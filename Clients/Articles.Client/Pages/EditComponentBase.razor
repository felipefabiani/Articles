@using Articles.Client.EndPoints
@using Articles.Client.Properties.EndPoints
@using FluentValidation

@inherits FormBase<TRequest, TResponse>
@typeparam TRequest where TRequest : class, new ()
@typeparam TResponse where TResponse : notnull, new ()

<MudForm Model="@Endpoint.Model" @ref="@form" Validation="@ValidateValue" ValidationDelay="0">
    <MudCard>
        <MudCardHeader>
            @HeaderTemplate
        </MudCardHeader>
        <MudCardContent>
            @FormTemplate(Endpoint.Model)
        </MudCardContent>
        <MudCardActions>
            <MudPaper Class="d-flex flex-row-reverse flex-grow-1 gap-4" Elevation="0">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(async () => await Submit())">Login</MudButton>
                <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(async () => await Reset())">Reset</MudButton>
                @*<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(async () => await Cancel())">Cancel</MudButton>*@
                @*<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => OpenDialog())">Cancel</MudButton>*@
                <CascadingValue Value="this">
                    @ButtonsTemplate
                </CascadingValue>
            </MudPaper>
        </MudCardActions>
    </MudCard>
</MudForm>
